@model IEnumerable<Department>
@using Microsoft.AspNetCore.Identity
@inject SignInManager<UserInterface> SignInManager
@{
	var categoryId = Model.FirstOrDefault()?.CategoryID;

	
	

//	<div class="container d-flex justify-content-center align-items-center min-vh-100">
//		@foreach (var item in Model)
//		{
//			<div class="card me-2" style="width: 18rem;">
//				@if (item.ImageURL == null)
//				{
//					<img src="https://ammarltuc.blob.core.windows.net/images/785054-ecommerce-istock-020119.jpg" class="card-img-top circleImg" alt="Image Alt Text" style="height:12rem;">

//				}
//				else
//				{
//					<img src="@item.ImageURL" class="card-img-top circleImg" alt="Image Alt Text" style="height:12rem;">
//				}
//				<div class="card-body">
//					<h5 class="card-title">@item.Name</h5>
//					<p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
//					<div class="x d-flex flex-column flex-md-row">
//						<a asp-controller="product" asp-action="product" asp-route-departmentID="@item.ID" class="btn btn-primary me-2">View Products</a>
//						<a  class="btn btn-secondary px-3">Details</a>
//					</div>
//				</div>
//			</div>
//		}
//	</div>
//}

<div class="products">
	<div class="container">
		@if (User.IsInRole("Admin"))
		{
			<a class="btn btn-success mx-2 px-4" asp-action="AddDepartment" asp-route-categoryId="@categoryId">Add</a>


		}
		<a class="btn btn-success mx-2" asp-controller="Category" asp-action="Index">
			Back to list
		</a>
		<div class="text-center text-light">
			<h1> Departments  </h1>
		</div>
		<div class="product-items">

			@foreach (var item in Model)
			{
				<div class="product">
					<div class="product-content">
						<div class="product-img">
							@if (item.ImageURL != null)
							{
								<img src="@item.ImageURL" alt="@item.Name">
							}
							else
							{
								<img src="https://lab29images.blob.core.windows.net/images/defaultImage.png" alt="@item.Name" />
							}

						</div>
						<div class="product-btns ">
							<a asp-action="DepartmentDetails" asp-route-departmentId="@item.ID" type="button" class="btn-cart d-flex justify-content-evenly align-items-center">
								<span>Details</span>
								<i class="fa-solid fa-circle-info"></i>
							</a>
								<a asp-controller="Product" asp-action="Product" asp-route-departmentID="@item.ID" class="btn-cart">View Products</a>

						</div>
					</div>

					<div class="product-info">
						<div class="product-info-top">
							<h2 class="sm-title">@item.Category.Name</h2>
							
						</div>
						<a href="#" class="product-name">@item.Name</a>
					
					</div>

				</div>
			}

		</div>
	</div>
</div>
}